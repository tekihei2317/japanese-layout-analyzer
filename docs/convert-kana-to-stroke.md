# かなをストロークに変換する方法

様々な指標を計算するためには、ひらがなのテキストまたはN-gramデータをストロークに変換する必要があります。

少し難しいので、整理してみましょう。

## 難しいところ

例えばローマ字入力では

しょ

を入力する方法には、syo、sho、silyoなど様々な方法があり、どの方法を優先するかを考える必要があります。この場合は最も短くなるような入力のうちどちらかを優先させればいいでしょうか。

同じようにぶり中トロ配列では、

しょ

を入力する方法に iz+l=しょ+う、i+da=し+ょう、があります。これは区切り方が違うので難しいですね。最長マッチするならizlですが、「ょう」はdaとホームポジションのアルペジオで打てるように用意されているので、そちらを使うようにもしたいです。
